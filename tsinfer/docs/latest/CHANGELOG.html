
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Changelog &#8212; Tsinfer manual</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/tskit-book-theme.css?digest=4e121f05f62280197eeb3e8760a1903920f0778f" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/scripts/tskit-book-theme.js?digest=9a6366feaade5ec470560844be9ff19788eb9b85"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Citing tsinfer" href="CITATION.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/tsinfer_logo.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Tsinfer manual</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Welcome to tsinfer’s documentation!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Introduction
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Installation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="installation.html">
   Installation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorial
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="tutorial.html">
   Tutorial
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Inference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="inference.html">
   Inference overview
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Interfaces
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="api.html">
   API Documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cli.html">
   Command line interface
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  File Formats
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="file_formats.html">
   File formats
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Miscellaneous
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="development.html">
   Developer documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="CITATION.html">
   Citing tsinfer
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Changelog
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            tsinfer undefined
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/tskit-dev/tsinfer"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/tskit-dev/tsinfer/issues/new?title=Issue%20on%20page%20%2FCHANGELOG.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/tskit-dev/tsinfer/edit/main/docs/CHANGELOG.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/CHANGELOG.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xx">
   [0.2.4] - 2022-06-xx
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   [0.2.3] - 2022-04-08
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   [0.2.2] - 2022-02-23
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   [0.2.1] - 2021-05-26
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   [0.2.0] - 2020-12-18
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   [0.1.4] - 2018-12-12
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   [0.1.3] - 2018-11-02
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   [0.1.2] - 2018-06-18
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Changelog</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xx">
   [0.2.4] - 2022-06-xx
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   [0.2.3] - 2022-04-08
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   [0.2.2] - 2022-02-23
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   [0.2.1] - 2021-05-26
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   [0.2.0] - 2020-12-18
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   [0.1.4] - 2018-12-12
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   [0.1.3] - 2018-11-02
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   [0.1.2] - 2018-06-18
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">#</a></h1>
<section id="xx">
<h2>[0.2.4] - 2022-06-xx<a class="headerlink" href="#xx" title="Permalink to this headline">#</a></h2>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>matching routines warn if no inference sites
(<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/685">#685</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/683">#683</a> <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
</ul>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>sample_data.subset() now accepts a sequence_length  (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/681">#681</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verify</span></code> no longer raises error when comparing a genotype to missingness. (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/625">#625</a>, <a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>)</p></li>
</ul>
<p><strong>Breaking changes</strong>:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">simplify</span></code> parameter is now deprecated in favour of <code class="docutils literal notranslate"><span class="pre">post_process</span></code>, which
prior to simplification, removes the “virtual-root-like” ancestor (inserted by
tsinfer to aid the matching process) then splits the grand MRCA into separate pieces.
If splitting is not required, the <code class="docutils literal notranslate"><span class="pre">post_process</span></code> step can also be called as a
separate function with the parameter <code class="docutils literal notranslate"><span class="pre">split_mrca=False</span></code> (:pr:<code class="docutils literal notranslate"><span class="pre">687</span></code>,
:issue:<code class="docutils literal notranslate"><span class="pre">673</span></code>, :user:<code class="docutils literal notranslate"><span class="pre">hyanwong</span></code>)</p></li>
<li><p>Inference now sets time_units on both ancestor and final tree sequences to
tskit.TIME_UNITS_UNCALIBRATED, stopping accidental use of branch length
calculations on the ts. (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/680">#680</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
</ul>
</section>
<section id="id1">
<h2>[0.2.3] - 2022-04-08<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h2>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ancestor(id)</span></code> to <code class="docutils literal notranslate"><span class="pre">AncestorData</span></code> class.
(<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/570">#570</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/569">#569</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
</ul>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>Mark zarr 2.11.0, 2.11.1 and 2.11.2 as incompatible due to <code class="docutils literal notranslate"><span class="pre">zarr-python</span></code>
bugs #965 and #967.
(<a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/643">#643</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/657">#657</a>, <a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>)</p></li>
</ul>
</section>
<section id="id2">
<h2>[0.2.2] - 2022-02-23<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<p><strong>Bugfixes</strong>:</p>
<ul class="simple">
<li><p>Mutations at non-inference sites are now guaranteed to be fully parsimonious.
Previous versions required a mutation above the root when the input ancestral state
disagreed with the ancestral state produced by the parsimony algorithm. Now fixed by
using the new map_mutations code from tskit 0.3.7 (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/557">#557</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
</ul>
<p><strong>New Features</strong>:</p>
<p><strong>Breaking changes</strong>:</p>
<ul class="simple">
<li><p>Oldest nodes in a standard inferred tree sequence are no longer set to frequencies ~2
and ~3 (i.e. 2 or 3 times as old as all the other nodes), but are spaced above the
others by the mean time between unique ancestor ages (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/485">#485</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tsinfer.SampleData.from_tree_sequence()</span></code> function now defaults to setting
<code class="docutils literal notranslate"><span class="pre">use_sites_time</span></code> and <code class="docutils literal notranslate"><span class="pre">use_individuals_time</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code> rather than <code class="docutils literal notranslate"><span class="pre">True</span></code>
(<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/599">#599</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>)</p></li>
</ul>
</section>
<section id="id3">
<h2>[0.2.1] - 2021-05-26<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h2>
<p>Bugfix release</p>
<p><strong>Bugfixes</strong>:</p>
<ul class="simple">
<li><p>Fix a bug in the core LS matching algorithm in which the rate of recombination
was being incorrectly computed (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/493">#493</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/514">#514</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tsinfer.verify()</span></code> no longer requires that non-ancestral alleles in a SampleData
and Tree Sequence file are in the same order (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/490">#490</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/492">#492</a>,
<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>).</p></li>
</ul>
<p><strong>New Features</strong>:</p>
<ul class="simple">
<li><p>Inferred ancestral haplotypes may be truncated via
<code class="docutils literal notranslate"><span class="pre">AncestorData.truncate_ancestors()</span></code> to improve performance when inferring large
datasets (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/issues/276">#276</a>, <a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/467">#467</a>, <a class="reference external" href="https://github.com/awohns">&#64;awohns</a>).</p></li>
</ul>
<p><strong>Breaking changes</strong>:</p>
<ul class="simple">
<li><p>tsinfer now requires Python 3.7</p></li>
</ul>
</section>
<section id="id4">
<h2>[0.2.0] - 2020-12-18<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h2>
<p>Major feature release, including some incompatible file format and API updates.</p>
<p><strong>New features</strong>:</p>
<ul class="simple">
<li><p>Mismatch and recombination parameters can now be specified via the
recombination_rate and mismatch_ratio arguments in the Python API.</p></li>
<li><p>Missing data can be accomodated in SampleData using the tskit.MISSING_DATA
value in input genotypes. Missing data will be imputed in the output
tree sequence.</p></li>
<li><p>Metadata schemas for population, individual, site and tree sequence metadata
can now we be specified in the SampleData format. These will be included
in the final tree sequence and allow for automatic decoding of JSON metadata.</p></li>
<li><p>Map non-inference sites onto the tree by using the tskit <code class="docutils literal notranslate"><span class="pre">map_mutations</span></code>
parsimony method. This allows us to support sites with &gt; 2 alleles.</p></li>
<li><p>Historical (non-contemporaneous) samples can now be accommodated in inference,
assuming that the true dates of ancestors have been set, by using the concept
of “proxy samples”. This is done via the new function
<code class="docutils literal notranslate"><span class="pre">AncestorData.insert_proxy_samples()</span></code>, then setting the new
parameter <code class="docutils literal notranslate"><span class="pre">force_sample_times=True</span></code> when matching samples.</p></li>
<li><p>The default tree sequence returned after inference when <code class="docutils literal notranslate"><span class="pre">simplify=True</span></code> retains
unary nodes (i.e. simplify is done with <code class="docutils literal notranslate"><span class="pre">keep_unary=True</span></code>.</p></li>
</ul>
<p><strong>Breaking changes</strong>:</p>
<ul class="simple">
<li><p>The ancestors tree sequence now contains the real alleles and not
0/1 values as before.</p></li>
<li><p>Times for undated sites now use frequencies (0..1), not as counts (1..num_samples),
and are now stored as <code class="docutils literal notranslate"><span class="pre">tskit.UNKNOWN_TIME</span></code>, then calculated on the fly in the
variants() iterator.</p></li>
<li><p>The SampleData file no longer accepts the <code class="docutils literal notranslate"><span class="pre">inference</span></code> argument to add_site.
This functionality has been replaced by the <code class="docutils literal notranslate"><span class="pre">exclude_positions</span></code> argument
to the <code class="docutils literal notranslate"><span class="pre">infer</span></code> and <code class="docutils literal notranslate"><span class="pre">generate_ancestors</span></code> functions.</p></li>
<li><p>The SampleData format is now at version 5, and older versions cannot be read.
Users should rerun their data ingest pipelines.</p></li>
<li><p>Users can specify variant ages, via <code class="docutils literal notranslate"><span class="pre">sample_data.add_sites(...</span> <span class="pre">,</span> <span class="pre">time=user_time)</span></code>.
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this overrides the default time position of an ancestor, otherwise
ancestors are ordered in time by using the frequency of the derived variant (#143).</p></li>
<li><p>Change “age” to “time” to match tskit/msprime notation, and to avoid confusion
with the age since birth of an individual (#149). Together with the 2 changes below,
this addition bumped the file format to 3.0.</p></li>
<li><p>Add the ability to record user-specified times for individuals, and therefore
the samples contained in them (currently ignored during inference). Times are
added using <code class="docutils literal notranslate"><span class="pre">sample_data.add_individual(...</span> <span class="pre">,</span> <span class="pre">time=user_time)</span></code> (#190).</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">tsinfer.UNKNOWN_ALLELE</span></code> to <code class="docutils literal notranslate"><span class="pre">tskit.MISSING_DATA</span></code> for marking unknown regions
of ancestral haplotypes (#188) . This also involves changing the allele storage to a
signed int from <code class="docutils literal notranslate"><span class="pre">np.uint8</span></code> which matches the tskit v0.2 format for allele storage
(see https://github.com/tskit-dev/tskit/issues/144).</p></li>
</ul>
<p><strong>Bugfixes</strong>:</p>
<ul class="simple">
<li><p>Individuals and populations in the SampleData file are kept in the returned tree
sequence, even if they are not referenced by any sample. The individual and population
ids are therefore guaranteed to stay the same between the sample data file and the
inferred tree sequence. (<a class="reference external" href="https://github.com/tskit-dev/tsinfer/pull/348">#348</a>)</p></li>
</ul>
</section>
<section id="id5">
<h2>[0.1.4] - 2018-12-12<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h2>
<p>Bugfix release.</p>
<ul class="simple">
<li><p>Fix issue caused by upstream changes in numcodecs (#136).</p></li>
</ul>
</section>
<section id="id6">
<h2>[0.1.3] - 2018-11-02<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h2>
<p>Release corresponding to code used in the preprint.</p>
</section>
<section id="id7">
<h2>[0.1.2] - 2018-06-18<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h2>
<p>Minor update to take advantage of msprime 0.6.0’s Population and Individual
objects and fix various bugs.</p>
<p><strong>Breaking changes</strong>:</p>
<ul class="simple">
<li><p>Bumped SampleData file format version to 1.0 because of the addition
of individuals and populations. Older SampleData files will not be
readable and must be regenerated.</p></li>
<li><p>Changed the order of the <code class="docutils literal notranslate"><span class="pre">alleles</span></code> and <code class="docutils literal notranslate"><span class="pre">genotypes</span></code> arguments to
SampleData.add_site.</p></li>
</ul>
<p><strong>New features</strong>:</p>
<ul class="simple">
<li><p>Sample and individual metadata now handled correctly.</p></li>
<li><p>Added –no-simplify option to CLI and simplify=True option to infer function.</p></li>
<li><p>Better handling of missing files (raises correct exceptions).</p></li>
<li><p>tsinfer list now presents basic information for .trees files.</p></li>
</ul>
<p><strong>Bug fixes</strong>:</p>
<ul class="simple">
<li><p>Degenerate examples with zero inference sites are now rooted (#44)</p></li>
<li><p>Simplify=False results in tree sequence with correct sample nodes.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="CITATION.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Citing tsinfer</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Tskit Developers<br/>
  
      &copy; Copyright 2018.<br/>
    <div class="extra_footer">
      tsinfer undefined
    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>